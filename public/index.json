[{"content":"","date":null,"permalink":"/","section":"bigdale123's Blog","summary":"","title":"bigdale123's Blog"},{"content":"","date":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories"},{"content":"Now that I have a blog, I wanted to document how to do this because it\u0026rsquo;s a niche-r hobby. I had, not a difficult time, but a time getting this working properly, and finding out how to setup playlists. All told though, it\u0026rsquo;s fun to get setup.\nWhat is trunking? # In a nutshell, Trunking is when multiple users need to share a pool of radio frequencies. There is a control channel that manages which frequencies are in use and who are using them, and who is requesting to use a channel. Talkgroups are roles within the system assigned to users, and allow for group based permissions. When a user initiates a transmission, the control channel will tell the user what channel it can use. When a transmission is made on that channel, all the members of the same talkgroup will receive the transmission. Are you getting it now?\nSDR Trunk is specifically made to work with the following trunking (and some non trunking) protocols:\nAM - AM demodulator APCO-25 Phase 1 (C4FM/Simulcast) - P25 message decoder and automatic trunked channel following. APCO-25 Phase 2 - Phase 1 control channels with automatic Phase 2 trunked channel following. DCS - Digital Coded Squelch (DCS) decoder for NBFM channels Fleetsync II - FM demodulator and decoder for ANI, Acknowledge, Status, Paging and GPS bursts FM/NBFM - narrow-band FM demodulator with squelch control. LJ1200 - FM demodulator and decoder for LoJack data bursts on 173.075 MHz in US. LTR-Net - FM demodulator and LTR-Net trunked radio signaling decoder LTR-Standard - FM demodulator and Logic Trunked Radio (LTR) trunked radio signaling decoder MDC-1200 - FM demodulator and decoder for MDC-1200 ANI bursts. MPT-1327 - FM demodulator and MPT-1327 trunked radio signaling decoder and automatic trunked channel following. Passport - FM demodulator and Passport trunked radio signaling decoder. Tait 1200 - FM demodulator and decoder for Tait CCDI protocol GPS location bursts. Getting RTL-SDR drivers installed # This is gonna be platform specific, but we need drivers to use RTL-SDR devices. Please follow the official quick start guide @ airspy.com and make sure your dongle is plugged in before continuing (how will we know the dongle works if it\u0026rsquo;s not plugged in?)\nOn most linux systems, just install the rtl-sdr package for your system and you\u0026rsquo;re rolling. Run rtl_test to see if your device is detected. If not, a common reason that it isn\u0026rsquo;t getting picked up is because it is stuck in dvb-t mode. You can fix this by blacklisting the dvb-t module from being loaded, like so:\n$ cd /etc/modprobe.d $ sudo nano dvb_blacklist.conf [in the config file, add this line] blacklist dvb_usb_rtl28xxu On windows systems, it\u0026rsquo;s a little more involved. Download the SDR# package, run install-rtlsdr.bat, then run the zadig.exe it downloaded. Go to the options tab, and select \u0026ldquo;List all devices\u0026rdquo;. Sometimes you need to uncheck \u0026ldquo;Ignore hubs or composite patterns\u0026rdquo;. Then, select \u0026ldquo;Bulk-In, Interface (Interface 0)\u0026rdquo;, make sure the driver box says \u0026ldquo;WinUSB \u0026hellip;\u0026rdquo;, then click Replace Driver.\nMac seems like you don\u0026rsquo;t need to do anything? weird. But I don\u0026rsquo;t care. Moving on!\nInstall \u0026amp; Setup SDR Trunk # Pretty easy, download from the Releases Page or install through your package manager (I used the AUR). Once done, you should see an interface like this: You will likely get prompted to perform CPU calibrations if it\u0026rsquo;s the first time running the program, go ahead and accept. Let it do it\u0026rsquo;s thing. While that\u0026rsquo;s going, we can actually do one more thing. We need to install the JMBE library, responsible for audio decoding. Click the \u0026ldquo;Create Library\u0026rdquo; button, and install the jar file. You should see something like this in the settings menu once it\u0026rsquo;s setup properly: By now, the JMBE library and the CPU calibration should both be done. The blue, red, orange thing is called a \u0026ldquo;waterfall\u0026rdquo;. Basically a spectrum analyzer, and it\u0026rsquo;s purpose is to show signals and their strength in the range of frequencies being viewed. If it is killing your resource usage, you can disable it by right clicking on it and disabling it.\nBuilding our Playlist # Alright, here\u0026rsquo;s the true hard part of getting SDR Trunk working. SDR Trunk uses a playlist to manage all the information needed for listening to trunked systems. This includes:\nChannels (Frequencies, Protocols, Names, etc.) Aliases (Talkgroups, Aliases, \u0026amp; identifiers) If you bare bones it, it\u0026rsquo;s not hard, but you will be missing some useful data like correct talkgroups and aliases and stuff. I Highly encourage you to pay for a Radio Reference, just one time. They\u0026rsquo;re not expensive, and it\u0026rsquo;s worth the time you can save. Because\u0026hellip; You can import all the data for your area straight from Radio Reference if you have a subscription! Just make an account, buy a subscription, and then import a system. If you really want to make the most out of your subscription, Backup your playlists of imported data before your subscription runs out. Then in the future, just update any relevant data when a channel quits working.\nI will not go over how to build a playlist manually, if you want to do that (masochist) go read the SDRTrunk Wiki and figure it out yourself.\nTuning into a site # So easy it doesn\u0026rsquo;t really deserve a section.\nGo to the playlist editor select your playlist go to the channels section Find the site you want to listen to click on it, then press the play button You can see in my playlist that I picked the \u0026ldquo;Jefferson County Simulcast\u0026rdquo; site, and the big play button. You should have success! If you see a \u0026ldquo;CONTROL\u0026rdquo; channel, you\u0026rsquo;ve tuned into the trunked system correctly. If aliases are set up properly, those will show up in the Alias column. Any sub channels that are pink and say \u0026ldquo;ENCRYPTED\u0026rdquo; can\u0026rsquo;t be played, but any blue channels that say \u0026ldquo;CALL\u0026rdquo; can. SDRTrunk can play 2 calls at the same time, one on the left audio channel and another on the right audio channel. It can get chaotic, and I haven\u0026rsquo;t learned how to enforce a single call to play at a time. You can setup recording each snippet that comes in for any given alias, just go to the alias and set it to record audio. Whenever a call occurs with the alias being part of that call, the audio segment will get saved to disk.\nThat\u0026rsquo;s about all I know, SDRTrunk is a neat program to run every once in a while. I\u0026rsquo;ll put a link to my playlist here once I get it uploaded in the blog repo, in case anybody in \u0026lsquo;Bama wants to give this a try. Other states, you\u0026rsquo;re on your own üòâ\nSpeaking of blog, This post is the first post to contain a gif! Which I thought was previously not going to work, but I forgot I already implemented that when I wrote my import script. ","date":"February 20, 2025","permalink":"/posts/listening-to-the-police-scanner-with-sdr-trunk/","section":"Posts","summary":"","title":"Listening to the Police Scanner with SDR Trunk"},{"content":"","date":null,"permalink":"/tags/miscellaneous/","section":"Tags","summary":"","title":"Miscellaneous"},{"content":"","date":null,"permalink":"/categories/miscellaneous/","section":"Categories","summary":"","title":"Miscellaneous"},{"content":"","date":null,"permalink":"/posts/","section":"Posts","summary":"","title":"Posts"},{"content":"","date":null,"permalink":"/tags/rtl-sdr/","section":"Tags","summary":"","title":"RTL-SDR"},{"content":"","date":null,"permalink":"/categories/rtl-sdr/","section":"Categories","summary":"","title":"RTL-SDR"},{"content":"","date":null,"permalink":"/tags/software/","section":"Tags","summary":"","title":"Software"},{"content":"","date":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags"},{"content":"Introduction # Recently, I had a really tough bug that was following me around on any linux distro I tried. System would work fine for a while, then freeze out of nowhere. I had a school project (that I massively procrastinated on) due, so I switched to windows just to get it done. Then I came back to it, realized what was causing the crashes (some issue introduced in mesa driver 24.3.0) and downgraded to an older version. It\u0026rsquo;s been a week with no crashes! Anyway, while I was troubleshooting I griped about it to some friends and I ran my mouth so much someone said I should start a blog. Not a bad idea, and it\u0026rsquo;d help me procrastinate studying for my midterm. I use Obsidian to take notes. Any kind of notes: Lecture Notes, Recipes, Shopping lists, you name it. If it is text based, I use Obsidian. Why not make obsidian files be the blog?\nI watched NetworkChuck\u0026rsquo;s Video to get started, but I knew that it would get a little different for me. For one, i\u0026rsquo;d like to host the static site on github pages. I\u0026rsquo;ve already got a domain registered that points to the github pages, and I had a pretty shitty svelte site running on it that I used to learn how to use svelte. If you\u0026rsquo;re reading this, then that means I moved the svelte project out of this repo into another repo, and am running this blog on bigdale123.github.io. I\u0026rsquo;m sure when github eventually removes the free github pages for users, i\u0026rsquo;ll scramble to get it hosted on my proxmox cluster. But for now, i\u0026rsquo;ll host somewhere that won\u0026rsquo;t be affected by a brown out.\nThe plan # Shrimple.\nFigure out how to get hugo to build static files from obsidian Fix any kind of missing content errors (like missing photos and stuff) Figure out how I want to \u0026ldquo;workflow\u0026rdquo; the building process, if necessary. Basically, decide if I want to automate any of this process Push to github and see if the static site works (Optional and If supported) Style the blog site Hugo site has themes (Optional and If supported) Maybe hugo can do categorical blog posts? Haven\u0026rsquo;t done any research before attempting, hence optional Step 1: Learning how to use Hugo # I\u0026rsquo;m planning on using Congo for my Hugo theme. Looks nice, can support search, tags, archives, etc. Setup has been a little difficult, because I got confused on which config directory to use. Once I figured that out, I could finally see my changes. Behold, the first thing I have seen other than a blank page! We love a good RoboCop quote. If only I could figure out how to get my damn Obsidian files to show up. (Some time later) Yeah, I forgot. Whoops. New problem to tackle, the way Obsidian handles photos in text (following the form of ![[some_image.png]]) is not the same as the way that Hugo handles images (following the form of ![Example Image](/path/to/some_image.png)). Not a problem with Hugo, but we will need to follow the same route NetworkChuck used by writing a script to port over images and replace any image paths. Also not a huge deal, since the way I want to have hugo build the site will require copying the markdown files from my Obsidian vault to Hugo. This way I can keep my blog posts in my vault, and the script should just copy them over.\nStep 2: Fixing missing content # So, now for the real work. I need to write a script that will do the following (in order, ideally):\nCopy the entire \u0026ldquo;Blog Content\u0026rdquo; folder from Obsidian to the \u0026ldquo;content\u0026rdquo; folder in the site repository. For each markdown file, replace all instances of ![[some_image.png]] with ![](/attachments/some_image.png) There will be more steps in the script, but for now this is all we need. I\u0026rsquo;m going to borrow from NetworkChuck\u0026rsquo;s script heavily, since he has basically the same use case that I do (Source Code: https://blog.networkchuck.com/posts/my-insane-blog-pipeline/). The only thing i\u0026rsquo;ll really change is probably the OS dependent versions, the OS library should include methods that will handle paths in a way that the same code can be cross platform. Here\u0026rsquo;s what i\u0026rsquo;m going with, if you happen to find this (hello, you industrious little fellow) you might have to change how the attachments folder is found based on how your obsidian vault handles attachments. Mine uses an attachments subfolder in the parent directory of the markdown file. import os import re import shutil import sys def copy_vault_files(path_to_vault_folder): # Check that folder contains posts folder (validity check) if not os.path.isdir(path_to_vault_folder): raise IOError(\u0026#34;Given path does not exist.\u0026#34;) if not os.path.isdir(os.path.join(path_to_vault_folder, \u0026#39;posts\u0026#39;)): raise IOError(\u0026#34;Given path does not contain a \u0026#39;posts\u0026#39; folder.\u0026#34;) # Recursively copy files over, maintaining the structure, including attachments shutil.copytree(path_to_vault_folder, os.path.join(os.getcwd(), \u0026#34;content\u0026#34;), dirs_exist_ok=True) # For every file that was copied over, replace obsidian formatted images with appropriate hugo image format for dirpath, _, filenames in os.walk(\u0026#34;content\u0026#34;): for filename in filenames: if filename.endswith(\u0026#39;.md\u0026#39;): file_path = os.path.join(dirpath, filename) # print(f\u0026#34;Markdown File: {file_path}\u0026#34;) attachments_directory = os.path.join(dirpath, \u0026#39;attachments\u0026#39;) # Load file content and find all images matching format ![[]] with open(file_path, \u0026#34;r\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as file: content = file.read() images = re.findall(r\u0026#39;\\[\\[([^]]+\\.(?:png|jpg|jpeg|gif|bmp|svg|webp))\\]\\]\u0026#39;, content) for image in images: # Edge case: check that the image actually exists before replacing the markdown # print(f\u0026#34;Found Image: {image}\u0026#34;) # check that attachments directory exists, only if file contains images if not os.path.isdir(attachments_directory): raise IOError(f\u0026#34;Attachments directory for file {file_path} does not exist\u0026#34;) image_path = os.path.join(attachments_directory, image) if os.path.exists(image_path) and os.path.isfile(image_path): # image exists, replace markdown and copy file to static/attachments # copy file to static/attachments new_image = os.path.join(\u0026#34;static\u0026#34;, \u0026#34;attachments\u0026#34;, image) os.makedirs(os.path.join(\u0026#34;static\u0026#34;, \u0026#34;attachments\u0026#34;), exist_ok=True) shutil.copy2(image_path, new_image) # replace markdown new_markdown = f\u0026#34;![{image}](/attachments/{image.replace(\u0026#39; \u0026#39;, \u0026#39;%20\u0026#39;)})\u0026#34; # print(new_markdown) content = content.replace(f\u0026#34;![[{image}]]\u0026#34;, new_markdown) print(f\u0026#34;Image Found in {file_path}:\\n Replacing ![[{image}]] with {new_markdown}\u0026#34;) with open(file_path, \u0026#34;w\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as file: file.write(content) A tad ugly, but it gets the job done. And now we have images showing up in Hugo! Step 3: Workflowing the pipeline # A\u0026rsquo;ight, that\u0026rsquo;s the real heavy work the python script should do. Now I need to write some other stuff that will build the static site and push it upto the github repo.\nActually, I think i\u0026rsquo;ll keep this script separate from the whole publishing part. That way I can port over the obsidian files, test the server first to make sure everything renders OK, then do the publishing. Or at least a separate function, that way I can ask if somebody wants to build and push.\nJust to make it easier on myself, I have set the publish dir in my config.toml to docs, since Github Pages natively supports using this directory as the build directory. Honestly, it\u0026rsquo;s kinda dissapointing that GitHub won\u0026rsquo;t let you pick any folder in your branch, you\u0026rsquo;re stuck between /docs or /. Here\u0026rsquo;s the config.toml section: EDIT: I ended up undoing this for a custom github action, see next step.\n# -- Site Configuration -- # Refer to the theme docs for more details about each of these parameters. # https://jpanther.github.io/congo/docs/getting-started/ baseURL = \u0026#34;/\u0026#34; defaultContentLanguage = \u0026#34;en\u0026#34; publishDir = \u0026#34;docs\u0026#34; ... And here\u0026rsquo;s what I wrote for the publishing function, honestly I probably won\u0026rsquo;t use it since it\u0026rsquo;s just hugo then a push to the repo.\ndef publish(): os.system(\u0026#34;hugo\u0026#34;) commit_message = f\u0026#34;Automated Publish on {datetime.now().strftime(\u0026#34;%Y-%m-%d %H:%M:%S\u0026#34;)}\u0026#34; os.system(\u0026#34;git add *\u0026#34;) os.system(f\u0026#39;git commit -am \u0026#34;{commit_message}\u0026#34;\u0026#39;) os.system(\u0026#34;git push\u0026#34;) Step 4: See if the static site works # Well, if you\u0026rsquo;re reading this you know it works. I had some trouble getting github pages to work with it. I got an error the first time I tried to have the pages action build the site, Liquid Exception: Invalid Date: '\u0026quot;{{ .Date }}\u0026quot;' is not a valid datetime. in /_layouts/default.html. To fix this, i added a .nojekyll file inside the docs directory, which should make pages serve the site as is. And\u0026hellip; It didn\u0026rsquo;t work. I guess that just don\u0026rsquo;t work no more üòÆ‚Äçüí®. I looked up what to do on the hugo docs, and they recommend a custom github action that will build the hugo site up on github. Turns out I forgot to set them = \u0026quot;congo\u0026quot; in config.toml, but once I did that\u0026hellip; WOOP! Github Pages built and deployed the site using the action that I definitely did not copy word for word from the Hugo site üôÇ. The important thing is, the site is up. We can polish all the other stuff later.\nConclusion üéâ # Steps 5 and 6 are already done, since I picked my theme at the outset and that theme ended up already implementing categories. Call me lucky. This might not have been harder than I thought it would be, but it definitely took me longer than I though it would. Maybe i\u0026rsquo;m getting slower? Whatever, the site is done. It\u0026rsquo;s up. I can move on to the next thing. Maybe I should brush up on Github Actions?\n","date":"February 19, 2025","permalink":"/posts/first-post-learning-how-to-use-hugo-to-host-obsidian-files/","section":"Posts","summary":"","title":"First Post! Learning how to use Hugo to host Obsidian files"},{"content":"","date":null,"permalink":"/tags/homelab/","section":"Tags","summary":"","title":"Homelab"},{"content":"","date":null,"permalink":"/categories/homelab/","section":"Categories","summary":"","title":"Homelab"},{"content":"","date":null,"permalink":"/tags/hugo/","section":"Tags","summary":"","title":"Hugo"},{"content":"","date":null,"permalink":"/tags/obsidian/","section":"Tags","summary":"","title":"Obsidian"},{"content":"","date":null,"permalink":"/categories/obsidian/","section":"Categories","summary":"","title":"Obsidian"}]